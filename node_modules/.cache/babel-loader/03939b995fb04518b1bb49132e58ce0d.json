{"ast":null,"code":"import axios from \"axios\";\nimport { ref } from \"vue\";\nexport const useUsers = () => {\n  const users = ref([]);\n  const isLoading = ref(true);\n  const currenPage = ref(1);\n  const errorMessage = ref();\n\n  const getUsers = async (page = 1) => {\n    if (page <= 0) page = 1;\n    isLoading.value = true;\n    const {\n      data\n    } = await axios.get(`https://reqres.in/api/users`, {\n      params: {\n        page: page\n      }\n    });\n\n    if (data.data.length > 0) {\n      users.value = data.data;\n      currenPage.value = page;\n      errorMessage.value = null;\n    } else if (currenPage.value > 0) {\n      errorMessage.value = \"no hay mas usuarios\";\n    }\n\n    isLoading.value = false;\n  };\n\n  getUsers();\n  return {\n    users,\n    isLoading,\n    currenPage,\n    errorMessage,\n    nextPage: () => getUsers(currenPage.value + 1),\n    prevPage: () => getUsers(currenPage.value - 1)\n  };\n};","map":{"version":3,"sources":["/home/walter/Escritorio/vue/08-compo-api/src/composables/useUsers.js"],"names":["axios","ref","useUsers","users","isLoading","currenPage","errorMessage","getUsers","page","value","data","get","params","length","nextPage","prevPage"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC5B,QAAMC,KAAK,GAAGF,GAAG,CAAC,EAAD,CAAjB;AACA,QAAMG,SAAS,GAAGH,GAAG,CAAC,IAAD,CAArB;AACA,QAAMI,UAAU,GAAGJ,GAAG,CAAC,CAAD,CAAtB;AACA,QAAMK,YAAY,GAAGL,GAAG,EAAxB;;AAEA,QAAMM,QAAQ,GAAG,OAAOC,IAAI,GAAG,CAAd,KAAoB;AACnC,QAAIA,IAAI,IAAI,CAAZ,EAAeA,IAAI,GAAG,CAAP;AAEfJ,IAAAA,SAAS,CAACK,KAAV,GAAkB,IAAlB;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMV,KAAK,CAACW,GAAN,CAAW,6BAAX,EAAyC;AAC9DC,MAAAA,MAAM,EAAE;AAAEJ,QAAAA,IAAI,EAAEA;AAAR;AADsD,KAAzC,CAAvB;;AAIA,QAAIE,IAAI,CAACA,IAAL,CAAUG,MAAV,GAAmB,CAAvB,EAA0B;AACxBV,MAAAA,KAAK,CAACM,KAAN,GAAcC,IAAI,CAACA,IAAnB;AACAL,MAAAA,UAAU,CAACI,KAAX,GAAmBD,IAAnB;AACAF,MAAAA,YAAY,CAACG,KAAb,GAAqB,IAArB;AACD,KAJD,MAIO,IAAIJ,UAAU,CAACI,KAAX,GAAmB,CAAvB,EAA0B;AAC/BH,MAAAA,YAAY,CAACG,KAAb,GAAqB,qBAArB;AACD;;AAEDL,IAAAA,SAAS,CAACK,KAAV,GAAkB,KAAlB;AACD,GAlBD;;AAoBAF,EAAAA,QAAQ;AAER,SAAO;AACLJ,IAAAA,KADK;AAELC,IAAAA,SAFK;AAGLC,IAAAA,UAHK;AAILC,IAAAA,YAJK;AAKLQ,IAAAA,QAAQ,EAAE,MAAMP,QAAQ,CAACF,UAAU,CAACI,KAAX,GAAmB,CAApB,CALnB;AAMLM,IAAAA,QAAQ,EAAE,MAAMR,QAAQ,CAACF,UAAU,CAACI,KAAX,GAAmB,CAApB;AANnB,GAAP;AAQD,CApCM","sourcesContent":["import axios from \"axios\";\nimport { ref } from \"vue\";\nexport const useUsers = () => {\n  const users = ref([]);\n  const isLoading = ref(true);\n  const currenPage = ref(1);\n  const errorMessage = ref();\n\n  const getUsers = async (page = 1) => {\n    if (page <= 0) page = 1;\n\n    isLoading.value = true;\n\n    const { data } = await axios.get(`https://reqres.in/api/users`, {\n      params: { page: page },\n    });\n\n    if (data.data.length > 0) {\n      users.value = data.data;\n      currenPage.value = page;\n      errorMessage.value = null;\n    } else if (currenPage.value > 0) {\n      errorMessage.value = \"no hay mas usuarios\";\n    }\n\n    isLoading.value = false;\n  };\n\n  getUsers();\n\n  return {\n    users,\n    isLoading,\n    currenPage,\n    errorMessage,\n    nextPage: () => getUsers(currenPage.value + 1),\n    prevPage: () => getUsers(currenPage.value - 1),\n  };\n};\n"]},"metadata":{},"sourceType":"module"}