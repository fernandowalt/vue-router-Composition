{"ast":null,"code":"import { watch } from \"vue\";\nimport { useRoute, onBeforeRouteLeave } from \"vue-router\";\nimport usePokemon from \"../composables/usePokemon\";\nexport default {\n  setup: function setup() {\n    var route = useRoute();\n\n    var _usePokemon = usePokemon(route.params.id),\n        pokemon = _usePokemon.pokemon,\n        isLoading = _usePokemon.isLoading,\n        errorMessage = _usePokemon.errorMessage,\n        searchPokemon = _usePokemon.searchPokemon; //watch ejecuta la funcion searchPokemon cuando router.params.id cambia.\n\n\n    watch(function () {\n      return route.params.id;\n    }, function () {\n      return searchPokemon(route.params.id);\n    });\n    onBeforeRouteLeave(function () {\n      var answer = window.confirm(\"¿esta seguro de abandonar la pagina?\");\n      if (!answer) return false;\n    });\n    return {\n      pokemon: pokemon,\n      isLoading: isLoading,\n      errorMessage: errorMessage\n    };\n  }\n};","map":{"version":3,"mappings":"AAcA,SAASA,KAAT,QAAsB,KAAtB;AACA,SAASC,QAAT,EAAmBC,kBAAnB,QAA6C,YAA7C;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AAEA,eAAe;AACbC,OADa,mBACL;AACN,QAAMC,KAAI,GAAIJ,QAAQ,EAAtB;;AAEA,sBAA4DE,UAAU,CACpEE,KAAK,CAACC,MAAN,CAAaC,EADuD,CAAtE;AAAA,QAAQC,OAAR,eAAQA,OAAR;AAAA,QAAiBC,SAAjB,eAAiBA,SAAjB;AAAA,QAA4BC,YAA5B,eAA4BA,YAA5B;AAAA,QAA0CC,aAA1C,eAA0CA,aAA1C,CAHM,CAON;;;AAEAX,SAAK,CACH;AAAA,aAAMK,KAAK,CAACC,MAAN,CAAaC,EAAnB;AAAA,KADG,EAEH;AAAA,aAAMI,aAAa,CAACN,KAAK,CAACC,MAAN,CAAaC,EAAd,CAAnB;AAAA,KAFG,CAAL;AAKAL,sBAAkB,CAAC,YAAM;AACvB,UAAMU,MAAK,GAAIC,MAAM,CAACC,OAAP,CAAe,sCAAf,CAAf;AAEA,UAAI,CAACF,MAAL,EAAa,OAAO,KAAP;AACd,KAJiB,CAAlB;AAMA,WAAO;AACLJ,aAAO,EAAPA,OADK;AAELC,eAAS,EAATA,SAFK;AAGLC,kBAAY,EAAZA;AAHK,KAAP;AAKD;AA1BY,CAAf","names":["watch","useRoute","onBeforeRouteLeave","usePokemon","setup","route","params","id","pokemon","isLoading","errorMessage","searchPokemon","answer","window","confirm"],"sourceRoot":"","sources":["/home/walter/Escritorio/vue/vue-router-con composition/src/views/Pokemon.vue"],"sourcesContent":["<template>\n  <h1 v-if=\"!pokemon && !errorMessage\">Loading...</h1>\n  <h1 v-else-if=\"errorMessage\">{{ errorMessage }}</h1>\n\n  <div v-else>\n    <h3>{{ pokemon.name }}</h3>\n    <img :src=\"pokemon.sprites.front_default\" :alt=\"pokemon.name\" />\n    <br />\n\n    <router-link :to=\"{ name: 'search' }\">Search</router-link>\n  </div>\n</template>\n\n<script>\nimport { watch } from \"vue\";\nimport { useRoute, onBeforeRouteLeave } from \"vue-router\";\nimport usePokemon from \"../composables/usePokemon\";\n\nexport default {\n  setup() {\n    const route = useRoute();\n\n    const { pokemon, isLoading, errorMessage, searchPokemon } = usePokemon(\n      route.params.id\n    );\n\n    //watch ejecuta la funcion searchPokemon cuando router.params.id cambia.\n\n    watch(\n      () => route.params.id,\n      () => searchPokemon(route.params.id)\n    );\n\n    onBeforeRouteLeave(() => {\n      const answer = window.confirm(\"¿esta seguro de abandonar la pagina?\");\n\n      if (!answer) return false;\n    });\n\n    return {\n      pokemon,\n      isLoading,\n      errorMessage,\n    };\n  },\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}