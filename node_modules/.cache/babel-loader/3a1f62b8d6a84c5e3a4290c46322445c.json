{"ast":null,"code":"import axios from \"axios\";\nimport { ref } from \"vue\";\nexport default {\n  setup() {\n    const users = ref([]);\n    const isLoading = ref(true);\n    const currenPage = ref(1);\n    const errorMessage = ref(\"\");\n\n    const getUsers = async (page = 1) => {\n      if (page <= 0) page = 1;\n      isLoading.value = true;\n      const {\n        data\n      } = await axios.get(`https://reqres.in/api/users`, {\n        params: {\n          page: page\n        }\n      });\n      console.log(data);\n\n      if (data.data.length > 0) {\n        users.value = data.data;\n        currenPage.value = page;\n      } else if (cuurenPage.value > 0) {\n        errorMessage.value = \"no hay mas usuarios\";\n      }\n\n      isLoading.value = false;\n    };\n\n    getUsers();\n    return {\n      users,\n      isLoading,\n      currenPage,\n      errorMessage,\n      getUsers\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAqBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,KAApB;AAEA,eAAe;AACbC,OAAK,GAAG;AACN,UAAMC,KAAI,GAAIF,GAAG,CAAC,EAAD,CAAjB;AACA,UAAMG,SAAQ,GAAIH,GAAG,CAAC,IAAD,CAArB;AACA,UAAMI,UAAS,GAAIJ,GAAG,CAAC,CAAD,CAAtB;AACA,UAAMK,YAAW,GAAIL,GAAG,CAAC,EAAD,CAAxB;;AAEA,UAAMM,QAAO,GAAI,OAAOC,IAAG,GAAI,CAAd,KAAoB;AACnC,UAAIA,IAAG,IAAK,CAAZ,EAAeA,IAAG,GAAI,CAAP;AAEfJ,eAAS,CAACK,KAAV,GAAkB,IAAlB;AAEA,YAAM;AAAEC;AAAF,UAAW,MAAMV,KAAK,CAACW,GAAN,CAAW,6BAAX,EAAyC;AAC9DC,cAAM,EAAE;AAAEJ,cAAI,EAAEA;AAAR;AADsD,OAAzC,CAAvB;AAIAK,aAAO,CAACC,GAAR,CAAYJ,IAAZ;;AAEA,UAAIA,IAAI,CAACA,IAAL,CAAUK,MAAV,GAAmB,CAAvB,EAA0B;AACxBZ,aAAK,CAACM,KAAN,GAAcC,IAAI,CAACA,IAAnB;AACAL,kBAAU,CAACI,KAAX,GAAmBD,IAAnB;AACF,OAHA,MAGO,IAAIQ,UAAU,CAACP,KAAX,GAAmB,CAAvB,EAA0B;AAC/BH,oBAAY,CAACG,KAAb,GAAqB,qBAArB;AACF;;AAEAL,eAAS,CAACK,KAAV,GAAkB,KAAlB;AACD,KAnBD;;AAqBAF,YAAQ;AAER,WAAO;AACLJ,WADK;AAELC,eAFK;AAGLC,gBAHK;AAILC,kBAJK;AAKLC;AALK,KAAP;AAOD;;AArCY,CAAf","names":["axios","ref","setup","users","isLoading","currenPage","errorMessage","getUsers","page","value","data","get","params","console","log","length","cuurenPage"],"sourceRoot":"","sources":["/home/walter/Escritorio/vue/08-compo-api/src/views/Users.vue"],"sourcesContent":["<template>\n  <h2 v-if=\"isLoading\">espere por favor</h2>\n\n  <h2 v-else>Usuarios</h2>\n\n  <h5 v-if=\"errorMessage\">{{ errrorMessage }}</h5>\n\n  <div v-if=\"users.length > 0\">\n    <ul>\n      <li v-for=\"{ first_name, last_name, email, id } in users\" :key=\"id\">\n        <h4>{{ first_name }} {{ last_name }}</h4>\n        <h6>{{ email }}</h6>\n      </li>\n    </ul>\n  </div>\n  <button @click=\"getUsers(currenPage - 1)\">Atras</button>\n  <button @click=\"getUsers(currenPage + 1)\">Siguiente</button>\n  <span>pagina: {{ currenPage }}</span>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { ref } from \"vue\";\n\nexport default {\n  setup() {\n    const users = ref([]);\n    const isLoading = ref(true);\n    const currenPage = ref(1);\n    const errorMessage = ref(\"\");\n\n    const getUsers = async (page = 1) => {\n      if (page <= 0) page = 1;\n\n      isLoading.value = true;\n\n      const { data } = await axios.get(`https://reqres.in/api/users`, {\n        params: { page: page },\n      });\n\n      console.log(data);\n\n      if (data.data.length > 0) {\n        users.value = data.data;\n        currenPage.value = page;\n      } else if (cuurenPage.value > 0) {\n        errorMessage.value = \"no hay mas usuarios\";\n      }\n\n      isLoading.value = false;\n    };\n\n    getUsers();\n\n    return {\n      users,\n      isLoading,\n      currenPage,\n      errorMessage,\n      getUsers,\n    };\n  },\n};\n</script>\n\n<style scoped>\nh2 {\n  text-align: center;\n  width: 100%;\n}\ndiv {\n  display: flex;\n  justify-content: center;\n  text-align: center;\n}\nul {\n  width: 250px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}