{"ast":null,"code":"import axios from \"axios\";\nimport { ref } from \"vue\";\n\nconst useUsers = () => {\n  const users = ref([]);\n  const isLoading = ref(true);\n  const currentPage = ref(1);\n  const errorMessage = ref();\n\n  const getUsers = async (page = 1) => {\n    if (page <= 0) page = 1;\n    isLoading.value = true;\n    const {\n      data\n    } = await axios.get(`https://reqres.in/api/users`, {\n      params: {\n        page: page\n      }\n    });\n\n    if (data.data.length > 0) {\n      users.value = data.data;\n      currentPage.value = page;\n      errorMessage.value = null;\n    } else if (currentPage.value > 0) {\n      errorMessage.value = \"no hay mas usuarios\";\n    }\n\n    isLoading.value = false;\n  };\n\n  getUsers();\n  return {\n    currentPage,\n    errorMessage,\n    isLoading,\n    nextPage: () => getUsers(currentPage.value + 1),\n    prevPage: () => getUsers(currentPage.value - 1),\n    users\n  };\n};\n\nexport default useUsers;","map":{"version":3,"sources":["/home/walter/Escritorio/vue/08-compo-api/src/composables/useUsers.js"],"names":["axios","ref","useUsers","users","isLoading","currentPage","errorMessage","getUsers","page","value","data","get","params","length","nextPage","prevPage"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,KAApB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACrB,QAAMC,KAAK,GAAGF,GAAG,CAAC,EAAD,CAAjB;AACA,QAAMG,SAAS,GAAGH,GAAG,CAAC,IAAD,CAArB;AACA,QAAMI,WAAW,GAAGJ,GAAG,CAAC,CAAD,CAAvB;AACA,QAAMK,YAAY,GAAGL,GAAG,EAAxB;;AAEA,QAAMM,QAAQ,GAAG,OAAOC,IAAI,GAAG,CAAd,KAAoB;AACnC,QAAIA,IAAI,IAAI,CAAZ,EAAeA,IAAI,GAAG,CAAP;AAEfJ,IAAAA,SAAS,CAACK,KAAV,GAAkB,IAAlB;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMV,KAAK,CAACW,GAAN,CAAW,6BAAX,EAAyC;AAC9DC,MAAAA,MAAM,EAAE;AAAEJ,QAAAA,IAAI,EAAEA;AAAR;AADsD,KAAzC,CAAvB;;AAIA,QAAIE,IAAI,CAACA,IAAL,CAAUG,MAAV,GAAmB,CAAvB,EAA0B;AACxBV,MAAAA,KAAK,CAACM,KAAN,GAAcC,IAAI,CAACA,IAAnB;AACAL,MAAAA,WAAW,CAACI,KAAZ,GAAoBD,IAApB;AACAF,MAAAA,YAAY,CAACG,KAAb,GAAqB,IAArB;AACD,KAJD,MAIO,IAAIJ,WAAW,CAACI,KAAZ,GAAoB,CAAxB,EAA2B;AAChCH,MAAAA,YAAY,CAACG,KAAb,GAAqB,qBAArB;AACD;;AAEDL,IAAAA,SAAS,CAACK,KAAV,GAAkB,KAAlB;AACD,GAlBD;;AAoBAF,EAAAA,QAAQ;AAER,SAAO;AACLF,IAAAA,WADK;AAELC,IAAAA,YAFK;AAGLF,IAAAA,SAHK;AAILU,IAAAA,QAAQ,EAAE,MAAMP,QAAQ,CAACF,WAAW,CAACI,KAAZ,GAAoB,CAArB,CAJnB;AAKLM,IAAAA,QAAQ,EAAE,MAAMR,QAAQ,CAACF,WAAW,CAACI,KAAZ,GAAoB,CAArB,CALnB;AAMLN,IAAAA;AANK,GAAP;AAQD,CApCD;;AAsCA,eAAeD,QAAf","sourcesContent":["import axios from \"axios\";\nimport { ref } from \"vue\";\n\nconst useUsers = () => {\n  const users = ref([]);\n  const isLoading = ref(true);\n  const currentPage = ref(1);\n  const errorMessage = ref();\n\n  const getUsers = async (page = 1) => {\n    if (page <= 0) page = 1;\n\n    isLoading.value = true;\n\n    const { data } = await axios.get(`https://reqres.in/api/users`, {\n      params: { page: page },\n    });\n\n    if (data.data.length > 0) {\n      users.value = data.data;\n      currentPage.value = page;\n      errorMessage.value = null;\n    } else if (currentPage.value > 0) {\n      errorMessage.value = \"no hay mas usuarios\";\n    }\n\n    isLoading.value = false;\n  };\n\n  getUsers();\n\n  return {\n    currentPage,\n    errorMessage,\n    isLoading,\n    nextPage: () => getUsers(currentPage.value + 1),\n    prevPage: () => getUsers(currentPage.value - 1),\n    users,\n  };\n};\n\nexport default useUsers;\n"]},"metadata":{},"sourceType":"module"}